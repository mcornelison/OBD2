# ================================================================================
# Eclipse OBD-II Performance Monitor - Production Environment Template
# ================================================================================
# Copy this file to .env and fill in your values for Raspberry Pi deployment.
#
# IMPORTANT: NEVER commit your actual .env file to version control!
#
# Installation:
#   cp .env.production.example .env
#   nano .env  # Edit with your values
#
# For detailed deployment instructions, see docs/deployment-checklist.md
# ================================================================================

# ================================================================================
# APPLICATION SETTINGS
# ================================================================================

# Environment mode: development, staging, production
# In production mode, debug features are disabled and errors are logged, not displayed
APP_ENVIRONMENT=production

# ================================================================================
# DATABASE
# ================================================================================

# Path to SQLite database file
# On Raspberry Pi, this should be a writable location
# Recommended: Use the installation directory's data/ folder
#
# Default (if not set): ./data/obd.db
DB_PATH=/home/pi/obd2/data/obd.db

# ================================================================================
# BLUETOOTH - OBD-II DONGLE CONNECTION
# ================================================================================

# OBD-II Bluetooth dongle MAC address (REQUIRED for real hardware)
# Format: XX:XX:XX:XX:XX:XX
#
# HOW TO FIND YOUR DONGLE'S MAC ADDRESS:
# --------------------------------------
# 1. Turn on your vehicle's ignition (engine doesn't need to run)
# 2. Plug in the OBD-II Bluetooth dongle
# 3. Wait for it to initialize (LED usually blinks)
# 4. On Raspberry Pi, run:
#
#    bluetoothctl
#    scan on
#
# 5. Look for devices named like:
#    - "OBDII" or "OBD2"
#    - "ELM327"
#    - "Vgate" or similar
#
# 6. Note the MAC address (e.g., AA:BB:CC:DD:EE:FF)
# 7. Type 'quit' to exit bluetoothctl
#
# Common OBD-II dongle names:
#   - "OBDII" - Generic ELM327 clones
#   - "Vgate iCar Pro" - Popular Bluetooth 4.0 dongle
#   - "OBDLink MX+" - Professional-grade dongle
#
# PAIRING (First time only):
#   bluetoothctl
#   pair XX:XX:XX:XX:XX:XX
#   trust XX:XX:XX:XX:XX:XX
#   quit
#
# See docs/bluetooth-setup.md for detailed pairing instructions
#
OBD_BT_MAC=XX:XX:XX:XX:XX:XX

# ================================================================================
# DISPLAY MODE
# ================================================================================

# Display output mode
# Options:
#   - headless   : No display output, logging only (DEFAULT)
#                  Use this when running as a background service
#                  All data is still logged to database
#
#   - minimal    : Adafruit 1.3" 240x240 TFT display (ST7789)
#                  Shows RPM, Speed, Coolant Temp
#                  Requires Adafruit RGB Display library
#                  Hardware: https://www.adafruit.com/product/4484
#
#   - developer  : Detailed console output for debugging
#                  Shows all OBD parameters with timestamps
#                  Use during development or troubleshooting
#
# Recommended for production:
#   - "headless" if no display connected
#   - "minimal" if using Adafruit TFT display
#
DISPLAY_MODE=headless

# ================================================================================
# LOGGING
# ================================================================================

# Log level: DEBUG, INFO, WARNING, ERROR
# Recommended for production: INFO (default)
# Use DEBUG for troubleshooting, but be aware it generates large log files
LOG_LEVEL=INFO

# Log file path
# Application logs are written to this file
# Recommended: Use the installation directory's logs/ folder
#
# Default (if not set): ./logs/obd.log
#
# Log rotation:
#   The application does not rotate logs automatically.
#   Use logrotate on Linux for automatic rotation:
#   See /etc/logrotate.d/ for configuration examples
#
LOG_FILE=/home/pi/obd2/logs/obd.log

# ================================================================================
# DATA EXPORT
# ================================================================================

# Directory for CSV exports
# When using the export feature, files are saved here
#
# Default (if not set): ./exports/
EXPORT_DIR=/home/pi/obd2/exports/

# ================================================================================
# AI ANALYSIS (OPTIONAL - Advanced Feature)
# ================================================================================

# AI model for vehicle analysis (requires Ollama running locally)
# This feature analyzes drive data and provides insights
#
# Prerequisites:
#   1. Install Ollama: curl -fsSL https://ollama.com/install.sh | sh
#   2. Pull a model: ollama pull gemma2:2b
#   3. Ensure Ollama is running: ollama serve
#
# Recommended models by Raspberry Pi version:
#   - Pi 5 (8GB): gemma2:2b, llama3.2:1b
#   - Pi 5 (4GB): gemma2:2b (may be slow)
#   - Pi 4: Not recommended (insufficient RAM)
#
# Leave empty to disable AI analysis
#
AI_MODEL=gemma2:2b

# Custom prompt template for AI analysis (optional)
# If not set, uses the default prompt from configuration
# Advanced users can customize the prompt for specific analysis needs
#
AI_PROMPT_TEMPLATE=

# ================================================================================
# SIMULATOR (Development/Testing Only)
# ================================================================================

# These settings are only used when running with --simulate flag
# For production deployment, these are ignored

# Path to simulator profile (driving behavior configuration)
# SIMULATOR_PROFILE=./src/obd/simulator/profiles/default.json

# Path to scenario file (specific test scenarios)
# SIMULATOR_SCENARIO=

# ================================================================================
# RECOMMENDED PRODUCTION VALUES SUMMARY
# ================================================================================
#
# Copy these values for a typical Raspberry Pi production deployment:
#
# APP_ENVIRONMENT=production
# DB_PATH=/home/pi/obd2/data/obd.db
# OBD_BT_MAC=<your-dongle-mac-address>
# DISPLAY_MODE=headless
# LOG_LEVEL=INFO
# LOG_FILE=/home/pi/obd2/logs/obd.log
# EXPORT_DIR=/home/pi/obd2/exports/
#
# ================================================================================
# TROUBLESHOOTING
# ================================================================================
#
# If the application fails to start, check:
#
# 1. Bluetooth issues:
#    - Run: bluetoothctl devices
#    - Verify your dongle is paired and trusted
#    - Check OBD_BT_MAC is correct (case-sensitive)
#
# 2. Permission issues:
#    - Ensure the user running the service has write access to:
#      - DB_PATH directory
#      - LOG_FILE directory
#      - EXPORT_DIR directory
#    - Run: sudo chown -R pi:pi /home/pi/obd2
#
# 3. Display issues:
#    - If minimal mode fails, application falls back to headless
#    - Check SPI is enabled: sudo raspi-config
#    - Verify wiring matches Adafruit documentation
#
# 4. Database issues:
#    - If DB_PATH doesn't exist, it will be created
#    - Ensure parent directory exists and is writable
#
# For more help, see docs/deployment-checklist.md
#
# ================================================================================
