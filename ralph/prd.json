{
  "project": "Eclipse OBD-II Module Refactoring",
  "branchName": "ralph/module-refactoring",
  "description": "Refactor large Python files into single-responsibility modules organized by domain, with end-to-end testing in simulation and normal modes",
  "userStories": [
    {
      "id": "US-001",
      "title": "Create domain subpackage structure",
      "description": "As a developer, I want a clear subpackage structure so that related modules are grouped together.",
      "acceptanceCriteria": [
        "Create src/obd/ai/ subpackage with __init__.py",
        "Create src/obd/alert/ subpackage with __init__.py",
        "Create src/obd/analysis/ subpackage with __init__.py",
        "Create src/obd/calibration/ subpackage with __init__.py",
        "Create src/obd/config/ subpackage with __init__.py",
        "Create src/obd/data/ subpackage with __init__.py",
        "Create src/obd/display/ subpackage with __init__.py",
        "Create src/obd/drive/ subpackage with __init__.py",
        "Create src/obd/export/ subpackage with __init__.py",
        "Create src/obd/power/ subpackage with __init__.py",
        "Create src/obd/profile/ subpackage with __init__.py",
        "Create src/obd/service/ subpackage with __init__.py",
        "Create src/obd/shutdown/ subpackage with __init__.py",
        "Create src/obd/vehicle/ subpackage with __init__.py",
        "Typecheck passes"
      ],
      "priority": "high",
      "passes": true,
      "notes": "Completed 2026-01-22: All 14 domain subpackages created with __init__.py files",
      "dependencies": []
    },
    {
      "id": "US-002",
      "title": "Refactor config modules - types and parameters",
      "description": "As a developer, I want config types and parameter definitions extracted to dedicated files.",
      "acceptanceCriteria": [
        "Create src/obd/config/types.py with ParameterInfo dataclass and category constants from obd_parameters.py",
        "Create src/obd/config/exceptions.py with ObdConfigError from obd_config_loader.py",
        "Create src/obd/config/parameters.py with STATIC_PARAMETERS and REALTIME_PARAMETERS dicts",
        "Update src/obd/config/__init__.py with all exports",
        "All existing config tests pass",
        "Typecheck passes"
      ],
      "priority": "high",
      "passes": true,
      "notes": "Completed 2026-01-22: Created types.py with ParameterInfo and category constants, exceptions.py with ObdConfigError, parameters.py with STATIC/REALTIME_PARAMETERS. Updated __init__.py with all exports. 38 config tests pass.",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-003",
      "title": "Refactor config modules - loader and helpers",
      "description": "As a developer, I want config loading logic and helpers in separate files.",
      "acceptanceCriteria": [
        "Create src/obd/config/loader.py with loadObdConfig, validateObdConfig, OBD_DEFAULTS from obd_config_loader.py",
        "Create src/obd/config/helpers.py with parameter lookup functions (getParameterInfo, getAllParameterNames, etc.)",
        "Create src/obd/config/simulator.py with simulator config helpers (getSimulatorConfig, isSimulatorEnabled, etc.)",
        "Update imports in loader.py to use local types and parameters modules",
        "Update src/obd/config/__init__.py with all exports",
        "All existing config tests pass",
        "Typecheck passes"
      ],
      "priority": "high",
      "passes": true,
      "notes": "Completed 2026-01-22: Created loader.py (loadObdConfig, validateObdConfig, OBD_DEFAULTS, OBD_REQUIRED_FIELDS, VALID_DISPLAY_MODES), helpers.py (17 parameter lookup and config access functions), simulator.py (7 simulator config helpers). Updated __init__.py with all exports. 38 config tests pass, 324 total tests pass.",
      "dependencies": ["US-002"]
    },
    {
      "id": "US-004",
      "title": "Refactor display modules - types and exceptions",
      "description": "As a developer, I want display types and exceptions in dedicated files.",
      "acceptanceCriteria": [
        "Create src/obd/display/types.py with DisplayMode enum, StatusInfo, AlertInfo dataclasses",
        "Create src/obd/display/exceptions.py with DisplayError, DisplayInitializationError, DisplayOutputError",
        "Update src/obd/display/__init__.py with exports",
        "Typecheck passes"
      ],
      "priority": "high",
      "passes": true,
      "notes": "Completed 2026-01-22: Created types.py (DisplayMode, StatusInfo, AlertInfo) and exceptions.py (DisplayError, DisplayInitializationError, DisplayOutputError). Updated display_manager.py to import from new modules. All 324 tests passing.",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-005",
      "title": "Refactor display modules - drivers",
      "description": "As a developer, I want each display driver in its own file.",
      "acceptanceCriteria": [
        "Create src/obd/display/drivers/ subpackage with __init__.py",
        "Create src/obd/display/drivers/base.py with BaseDisplayDriver abstract class",
        "Create src/obd/display/drivers/headless.py with HeadlessDisplayDriver",
        "Create src/obd/display/drivers/minimal.py with MinimalDisplayDriver",
        "Create src/obd/display/drivers/developer.py with DeveloperDisplayDriver",
        "Update src/obd/display/drivers/__init__.py with all driver exports",
        "All existing display tests pass",
        "Typecheck passes"
      ],
      "priority": "high",
      "passes": true,
      "notes": "Completed 2026-01-22: Created display/drivers/ subpackage with base.py (BaseDisplayDriver), headless.py (HeadlessDisplayDriver), minimal.py (MinimalDisplayDriver, NullDisplayAdapter), developer.py (DeveloperDisplayDriver). Updated display_manager.py to import from new modules. All 324 tests passing, 76 display manager tests verified.",
      "dependencies": ["US-004"]
    },
    {
      "id": "US-006",
      "title": "Refactor display modules - manager and adapters",
      "description": "As a developer, I want DisplayManager and adapters in separate files.",
      "acceptanceCriteria": [
        "Create src/obd/display/manager.py with DisplayManager class",
        "Create src/obd/display/adapters/ subpackage with __init__.py",
        "Move adafruit_display.py to src/obd/display/adapters/adafruit.py",
        "Create src/obd/display/helpers.py with factory functions (createDisplayManagerFromConfig, etc.)",
        "Update src/obd/display/__init__.py with all exports",
        "All existing display tests pass",
        "Typecheck passes"
      ],
      "priority": "high",
      "passes": true,
      "notes": "Completed 2026-01-22: Created display/manager.py (DisplayManager class), display/adapters/ subpackage with adafruit.py (moved from obd/adafruit_display.py), display/helpers.py (8 factory and helper functions). Updated display/__init__.py with all exports. Original display_manager.py and adafruit_display.py now re-export from new locations for backward compatibility. 76 display manager tests pass, 60 adafruit display tests pass, 324 total tests pass.",
      "dependencies": ["US-005"]
    },
    {
      "id": "US-007",
      "title": "Refactor data modules",
      "description": "As a developer, I want data logging components in the data subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/data/types.py with LoggingState enum, LoggedReading, LoggingStats dataclasses",
        "Create src/obd/data/exceptions.py with DataLoggerError and subclasses",
        "Create src/obd/data/logger.py with ObdDataLogger class",
        "Create src/obd/data/realtime.py with RealtimeDataLogger class",
        "Create src/obd/data/helpers.py with factory and verification functions",
        "Update src/obd/data/__init__.py with all exports",
        "All existing data_logger tests pass",
        "Typecheck passes"
      ],
      "priority": "high",
      "passes": true,
      "notes": "Completed 2026-01-22: Created types.py (LoggingState, LoggedReading, LoggingStats), exceptions.py (DataLoggerError, ParameterNotSupportedError, ParameterReadError), logger.py (ObdDataLogger), realtime.py (RealtimeDataLogger), helpers.py (5 factory/verification functions). Updated data_logger.py to re-export from subpackage. 53 data_logger tests pass, 324 total tests pass.",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-008",
      "title": "Refactor vehicle modules",
      "description": "As a developer, I want VIN decoding and static data collection in the vehicle subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/vehicle/types.py with VinDecodeResult, StaticReading, CollectionResult dataclasses",
        "Create src/obd/vehicle/exceptions.py with VinDecoderError, StaticDataError and subclasses",
        "Create src/obd/vehicle/vin_decoder.py with VinDecoder class",
        "Create src/obd/vehicle/static_collector.py with StaticDataCollector class",
        "Create src/obd/vehicle/helpers.py with factory functions",
        "Update src/obd/vehicle/__init__.py with all exports",
        "All existing vin_decoder and static_data_collector tests pass",
        "Typecheck passes"
      ],
      "priority": "high",
      "passes": true,
      "notes": "Completed 2026-01-22: Created vehicle/types.py (VinDecodeResult, ApiCallResult, StaticReading, CollectionResult), vehicle/exceptions.py (VinDecoderError, VinValidationError, VinApiError, VinApiTimeoutError, VinStorageError, StaticDataError, VinNotAvailableError, StaticDataStorageError), vehicle/vin_decoder.py (VinDecoder), vehicle/static_collector.py (StaticDataCollector), vehicle/helpers.py (9 factory/helper functions). Updated original modules to re-export. 55 vin_decoder tests pass, 39 static_data_collector tests pass, 324 total tests pass.",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-009",
      "title": "Refactor drive modules",
      "description": "As a developer, I want drive detection in the drive subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/drive/types.py with DriveState, DetectorState enums, DriveSession, DetectorConfig, DetectorStats dataclasses",
        "Create src/obd/drive/exceptions.py with DriveDetectorError and subclasses",
        "Create src/obd/drive/detector.py with DriveDetector class",
        "Create src/obd/drive/helpers.py with factory and config functions",
        "Update src/obd/drive/__init__.py with all exports",
        "All existing drive_detector tests pass",
        "Typecheck passes"
      ],
      "priority": "high",
      "passes": true,
      "notes": "Completed 2026-01-22: Created drive/types.py (DriveState, DetectorState enums, DriveSession, DetectorConfig, DetectorStats dataclasses, constants), drive/exceptions.py (DriveDetectorError, DriveDetectorConfigError, DriveDetectorStateError), drive/detector.py (DriveDetector class), drive/helpers.py (6 factory/config functions). Updated drive/__init__.py with 22 exports. Original drive_detector.py now re-exports from subpackage. 57 drive_detector tests pass, 324 total tests pass.",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-010",
      "title": "Refactor analysis modules",
      "description": "As a developer, I want statistics calculation in the analysis subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/analysis/types.py with AnalysisState enum, ParameterStatistics, AnalysisResult, EngineStats dataclasses",
        "Create src/obd/analysis/exceptions.py with StatisticsError and subclasses",
        "Create src/obd/analysis/calculations.py with pure calculation functions (mean, mode, std, outliers)",
        "Create src/obd/analysis/engine.py with StatisticsEngine class",
        "Move profile_statistics.py to src/obd/analysis/profile_statistics.py",
        "Create src/obd/analysis/helpers.py with factory functions",
        "Update src/obd/analysis/__init__.py with all exports",
        "All existing statistics_engine tests pass",
        "Typecheck passes"
      ],
      "priority": "medium",
      "passes": true,
      "notes": "Completed 2026-01-22: Created analysis/types.py (AnalysisState, ParameterStatistics, AnalysisResult, EngineStats), analysis/exceptions.py (StatisticsError, StatisticsCalculationError, StatisticsStorageError, InsufficientDataError), analysis/calculations.py (5 pure calculation functions), analysis/engine.py (StatisticsEngine), analysis/profile_statistics.py (ProfileStatisticsManager, 5 dataclasses, 5 helpers), analysis/helpers.py (8 factory/helper functions). Updated analysis/__init__.py with 33 exports. Original statistics_engine.py and profile_statistics.py now re-export from subpackage. 64 statistics_engine tests pass, 37 profile_statistics tests pass, 324 total tests pass.",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-011",
      "title": "Refactor alert modules",
      "description": "As a developer, I want alert management in the alert subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/alert/types.py with AlertDirection, AlertState enums, AlertThreshold, AlertEvent, AlertStats dataclasses",
        "Create src/obd/alert/exceptions.py with AlertError and subclasses",
        "Create src/obd/alert/thresholds.py with threshold checking logic",
        "Create src/obd/alert/manager.py with AlertManager class",
        "Create src/obd/alert/helpers.py with factory and config helpers",
        "Update src/obd/alert/__init__.py with all exports",
        "All existing alert_manager tests pass",
        "Typecheck passes"
      ],
      "priority": "medium",
      "passes": true,
      "notes": "Completed 2026-01-22: Created alert/types.py (AlertDirection, AlertState enums, AlertThreshold, AlertEvent, AlertStats dataclasses, constants), alert/exceptions.py (AlertError, AlertConfigurationError, AlertDatabaseError), alert/thresholds.py (convertThresholds, checkThresholdValue, getDefaultThresholds, validateThresholds), alert/manager.py (AlertManager class), alert/helpers.py (6 factory/config functions). Updated alert/__init__.py with 28 exports. Original alert_manager.py now re-exports from subpackage. 81 alert_manager tests pass, 324 total tests pass.",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-012",
      "title": "Refactor power modules",
      "description": "As a developer, I want power monitoring in the power subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/power/types.py with PowerSource, PowerMonitorState, BatteryState enums, VoltageReading, PowerReading dataclasses",
        "Create src/obd/power/exceptions.py with PowerMonitorError, BatteryMonitorError",
        "Create src/obd/power/battery.py with BatteryMonitor class",
        "Create src/obd/power/power.py with PowerMonitor class",
        "Create src/obd/power/readers.py with voltage reader factory functions",
        "Create src/obd/power/helpers.py with config helpers",
        "Update src/obd/power/__init__.py with all exports",
        "All existing power_monitor and battery_monitor tests pass",
        "Typecheck passes"
      ],
      "priority": "medium",
      "passes": true,
      "notes": "Completed 2026-01-22: Created power/types.py (PowerSource, PowerMonitorState, BatteryState enums, PowerReading, PowerStats, VoltageReading, BatteryStats dataclasses, 17 constants), power/exceptions.py (6 exceptions), power/battery.py (BatteryMonitor class), power/power.py (PowerMonitor class), power/readers.py (8 factory functions), power/helpers.py (10 config helpers). Updated power/__init__.py with 46 exports. Original power_monitor.py and battery_monitor.py now re-export from subpackage. 62 battery_monitor tests pass, 60+ power_monitor tests pass, 324 total tests pass.",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-013",
      "title": "Refactor profile modules",
      "description": "As a developer, I want profile management in the profile subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/profile/types.py with Profile dataclass, ProfileChangeEvent",
        "Create src/obd/profile/exceptions.py with ProfileError and subclasses",
        "Create src/obd/profile/manager.py with ProfileManager class",
        "Create src/obd/profile/switcher.py with ProfileSwitcher class",
        "Create src/obd/profile/helpers.py with factory and config functions",
        "Update src/obd/profile/__init__.py with all exports",
        "All existing profile_manager and profile_switcher tests pass",
        "Typecheck passes"
      ],
      "priority": "medium",
      "passes": true,
      "notes": "Completed 2026-01-22: Created profile/types.py (Profile, ProfileChangeEvent, SwitcherState dataclasses, 8 constants), profile/exceptions.py (7 exceptions), profile/manager.py (ProfileManager, getDefaultProfile), profile/switcher.py (ProfileSwitcher), profile/helpers.py (11 factory/config functions). Updated profile/__init__.py with 33 exports. Original profile_manager.py and profile_switcher.py now re-export from subpackage. 53 profile_manager tests pass, 37 profile_switcher tests pass, 324 total tests pass.",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-014",
      "title": "Refactor calibration modules",
      "description": "As a developer, I want calibration in the calibration subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/calibration/types.py with CalibrationState enum, CalibrationSession, CalibrationReading, CalibrationStats dataclasses",
        "Create src/obd/calibration/exceptions.py with CalibrationError, CalibrationSessionError",
        "Create src/obd/calibration/session.py with session lifecycle management",
        "Create src/obd/calibration/collector.py with reading collection and storage",
        "Create src/obd/calibration/export.py with session export to CSV/JSON",
        "Create src/obd/calibration/manager.py with CalibrationManager class",
        "Move calibration_comparator.py to src/obd/calibration/comparator.py",
        "Update src/obd/calibration/__init__.py with all exports",
        "All existing calibration tests pass",
        "Typecheck passes"
      ],
      "priority": "medium",
      "passes": true,
      "notes": "Completed 2026-01-22: Created calibration/types.py (CalibrationState enum, CalibrationSession, CalibrationReading, CalibrationStats, CalibrationExportResult, ParameterSessionStats, SessionComparisonResult, CalibrationSessionComparison, ComparisonExportResult, SIGNIFICANCE_THRESHOLD, schema constants), calibration/exceptions.py (4 exceptions), calibration/session.py (6 session lifecycle functions), calibration/collector.py (5 reading collection functions), calibration/export.py (exportSession and CSV/JSON helpers), calibration/manager.py (CalibrationManager class), calibration/comparator.py (CalibrationComparator class), calibration/helpers.py (9 factory/config functions). Updated calibration/__init__.py with 41 exports. Original calibration_manager.py and calibration_comparator.py now re-export from subpackage. 69 calibration_manager tests pass, 33 calibration_comparator tests pass, 324 total tests pass.",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-015",
      "title": "Refactor AI modules - types and exceptions",
      "description": "As a developer, I want AI types and exceptions in dedicated files.",
      "acceptanceCriteria": [
        "Create src/obd/ai/types.py with AnalyzerState enum, AiRecommendation, AnalysisResult, AnalyzerStats, FocusArea enum, PromptMetrics, GeneratedPrompt dataclasses",
        "Create src/obd/ai/exceptions.py with AiAnalyzerError and subclasses",
        "Update src/obd/ai/__init__.py with exports",
        "Typecheck passes"
      ],
      "priority": "medium",
      "passes": false,
      "notes": "",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-016",
      "title": "Refactor AI modules - core components",
      "description": "As a developer, I want AI analyzer and related components in the ai subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/ai/data_preparation.py with data window preparation logic from ai_analyzer.py",
        "Create src/obd/ai/analyzer.py with AiAnalyzer class",
        "Move ai_prompt_template.py to src/obd/ai/prompt_template.py",
        "Move ollama_manager.py to src/obd/ai/ollama.py",
        "Move recommendation_ranker.py to src/obd/ai/ranker.py",
        "Create src/obd/ai/helpers.py with factory and convenience functions",
        "Update src/obd/ai/__init__.py with all exports",
        "All existing AI tests pass",
        "Typecheck passes"
      ],
      "priority": "medium",
      "passes": false,
      "notes": "",
      "dependencies": ["US-015"]
    },
    {
      "id": "US-017",
      "title": "Refactor export modules",
      "description": "As a developer, I want data export in the export subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/export/types.py with ExportFormat enum, ExportResult, SummaryExportResult dataclasses",
        "Create src/obd/export/exceptions.py with ExportError, InvalidDateRangeError, ExportDirectoryError",
        "Create src/obd/export/base.py with BaseExporter and shared query building",
        "Create src/obd/export/csv_exporter.py with CSV export logic",
        "Create src/obd/export/json_exporter.py with JSON export logic",
        "Create src/obd/export/summary_exporter.py with summary export logic",
        "Create src/obd/export/helpers.py with factory functions",
        "Update src/obd/export/__init__.py with all exports",
        "All existing data_exporter tests pass",
        "Typecheck passes"
      ],
      "priority": "medium",
      "passes": false,
      "notes": "",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-018",
      "title": "Refactor shutdown modules",
      "description": "As a developer, I want shutdown handling in the shutdown subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/shutdown/types.py with ShutdownState enum, ShutdownConfig, ShutdownResult dataclasses",
        "Create src/obd/shutdown/exceptions.py with ShutdownError and subclasses",
        "Create src/obd/shutdown/manager.py with ShutdownManager class",
        "Create src/obd/shutdown/command.py with ShutdownCommand class",
        "Create src/obd/shutdown/gpio.py with GpioButtonTrigger",
        "Create src/obd/shutdown/scripts.py with script generation functions",
        "Update src/obd/shutdown/__init__.py with all exports",
        "All existing shutdown tests pass",
        "Typecheck passes"
      ],
      "priority": "medium",
      "passes": false,
      "notes": "",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-019",
      "title": "Refactor service modules",
      "description": "As a developer, I want systemd service handling in the service subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/service/types.py with ServiceConfig, ServiceStatus dataclasses",
        "Create src/obd/service/exceptions.py with ServiceError and subclasses",
        "Create src/obd/service/systemd.py with systemd service file generation and SERVICE_TEMPLATE",
        "Create src/obd/service/manager.py with ServiceManager class",
        "Create src/obd/service/scripts.py with install/uninstall script generation",
        "Update src/obd/service/__init__.py with all exports",
        "All existing service tests pass",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-020",
      "title": "Refactor simulator scenario modules",
      "description": "As a developer, I want drive scenario in a simulator subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/simulator/scenario/ subpackage with __init__.py",
        "Create src/obd/simulator/scenario/types.py with ScenarioState enum, DrivePhase, DriveScenario dataclasses",
        "Create src/obd/simulator/scenario/exceptions.py with ScenarioError and subclasses",
        "Create src/obd/simulator/scenario/runner.py with DriveScenarioRunner class",
        "Create src/obd/simulator/scenario/loader.py with load/save/list functions",
        "Update src/obd/simulator/scenario/__init__.py with all exports",
        "All existing drive_scenario tests pass",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-021",
      "title": "Refactor simulator failure modules",
      "description": "As a developer, I want failure injection in a simulator subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/simulator/failure/ subpackage with __init__.py",
        "Create src/obd/simulator/failure/types.py with FailureType enum, FailureConfig, ScheduledFailure dataclasses",
        "Create src/obd/simulator/failure/injector.py with FailureInjector class",
        "Create src/obd/simulator/failure/scheduler.py with scheduled failure handling",
        "Update src/obd/simulator/failure/__init__.py with all exports",
        "All existing failure_injector tests pass",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-022",
      "title": "Refactor simulator CLI modules",
      "description": "As a developer, I want CLI commands in a simulator subpackage.",
      "acceptanceCriteria": [
        "Create src/obd/simulator/cli/ subpackage with __init__.py",
        "Create src/obd/simulator/cli/types.py with CliState, CommandType enums, CommandResult dataclass",
        "Create src/obd/simulator/cli/commands.py with command execution logic",
        "Create src/obd/simulator/cli/input.py with platform-specific input handling",
        "Create src/obd/simulator/cli/cli.py with SimulatorCli class",
        "Update src/obd/simulator/cli/__init__.py with all exports",
        "All existing simulator_cli tests pass",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-001"]
    },
    {
      "id": "US-023",
      "title": "Update backward compatibility exports",
      "description": "As a developer, I want existing imports to continue working after refactoring.",
      "acceptanceCriteria": [
        "Update src/obd/__init__.py to re-export all public classes/functions from subpackages",
        "All imports like 'from src.obd import DisplayManager' continue to work",
        "Create deprecation warnings for old direct file imports",
        "All existing tests pass without modification",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-002", "US-003", "US-004", "US-005", "US-006", "US-007", "US-008", "US-009", "US-010", "US-011", "US-012", "US-013", "US-014", "US-015", "US-016", "US-017", "US-018", "US-019", "US-020", "US-021", "US-022"]
    },
    {
      "id": "US-024",
      "title": "Create module structure documentation",
      "description": "As a developer, I want clear documentation of the new module structure.",
      "acceptanceCriteria": [
        "Create docs/module-structure.md with directory tree and purpose of each subpackage",
        "Include migration guide from old imports to new",
        "Update CLAUDE.md with new module organization",
        "Update specs/architecture.md with new package structure diagram",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-023"]
    },
    {
      "id": "US-025",
      "title": "End-to-end test in simulation mode - startup and connection",
      "description": "As a developer, I want to verify startup and connection work in simulation mode.",
      "acceptanceCriteria": [
        "Create tests/e2e/ directory with __init__.py",
        "Create tests/e2e/test_simulation_mode.py",
        "Test application startup with --simulate flag logs 'SIMULATION MODE'",
        "Test SimulatedObdConnection connect/disconnect/isConnected",
        "Test SimulatedObdConnection.query() returns valid values for RPM, SPEED, COOLANT_TEMP",
        "Test VIN decoding via SimulatedVinDecoder returns profile VIN",
        "All tests pass",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-024"]
    },
    {
      "id": "US-026",
      "title": "End-to-end test in simulation mode - data flow",
      "description": "As a developer, I want to verify data logging and analysis work in simulation mode.",
      "acceptanceCriteria": [
        "Add to tests/e2e/test_simulation_mode.py",
        "Test realtime data logging runs for 5 seconds and stores data in database",
        "Test drive detection triggers on RPM > 500 for 10 seconds",
        "Test statistics calculation produces valid results after simulated drive",
        "Test alert threshold checking fires alert when coolant_temp > threshold",
        "All tests pass",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-025"]
    },
    {
      "id": "US-027",
      "title": "End-to-end test in simulation mode - export and shutdown",
      "description": "As a developer, I want to verify export and shutdown work in simulation mode.",
      "acceptanceCriteria": [
        "Add to tests/e2e/test_simulation_mode.py",
        "Test CSV export generates valid file with logged data",
        "Test JSON export generates valid file with metadata and data",
        "Test display updates show simulated values in developer mode",
        "Test graceful shutdown completes without errors",
        "Document test results in docs/e2e-test-results.md",
        "All tests pass",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-026"]
    },
    {
      "id": "US-028",
      "title": "End-to-end verification without simulation",
      "description": "As a developer, I want to verify the app starts correctly in normal mode.",
      "acceptanceCriteria": [
        "Create tests/e2e/test_normal_mode.py",
        "Test application startup without --simulate flag",
        "Test configuration loading and validation succeeds",
        "Test database initialization creates all tables",
        "Test display manager initializes in headless mode without error",
        "Test graceful handling when OBD hardware unavailable (no crash)",
        "Test service file generation produces valid systemd unit",
        "Test shutdown script generation produces executable script",
        "All tests pass or skip with clear reason if hardware required",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-024"]
    },
    {
      "id": "US-029",
      "title": "Rename main.py to eclipse.py",
      "description": "As a developer, I want the entry point named after the project so it's more memorable and fun.",
      "acceptanceCriteria": [
        "Rename src/main.py to src/eclipse.py",
        "Update all references in documentation (CLAUDE.md, README if exists)",
        "Update any shell scripts or service files that reference main.py",
        "Add a fun ASCII art banner or project tagline to startup output",
        "Update test imports in tests/test_main.py (rename to tests/test_eclipse.py)",
        "Application runs successfully: python src/eclipse.py --help",
        "Application runs in sim mode: python src/eclipse.py --simulate",
        "Typecheck passes"
      ],
      "priority": "low",
      "passes": false,
      "notes": "",
      "dependencies": ["US-024"]
    }
  ]
}
